# ููุฒุฉ ุฌุฏูู ุงููุตุฑููุงุช - ุงูุชูุซูู

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

### 1. ุฌุฏูู ุนุฑุถ ุงููุตุฑููุงุช ๐

**ุงููููุน:** ุฃุณูู ุดุฑูุท ุงูุฅููุงู ูู ุงูุนููุฏ ุงูุฃูุณุฑ

**ุงููุญุชููุงุช:**
- โ ุนุฑุถ ุฌููุน ุงููุตุฑููุงุช ุงููุถุงูุฉ
- โ 5 ุฃุนูุฏุฉ: ุงููุจูุบุ ุงููุฆุฉุ ุงูุณุจุจุ ุงูุดุฎุตุ ุฅุฌุฑุงุกุงุช
- โ ุชูุฑูุฑ ุนููุฏู ููุฌุฏูู ููุท (ุงูุตูุญุฉ ุจุฏูู ุชูุฑูุฑ)
- โ ุชุตููู ูุฏูุฌ ููุชูุงุณู

**ุงูุฃุนูุฏุฉ:**
```
โโโโโโโโโโโฌโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโโ
โ ุงููุจูุบ  โ ุงููุฆุฉ  โ  ุงูุณุจุจ   โ ุงูุดุฎุต  โ ุฅุฌุฑุงุกุงุช  โ
โโโโโโโโโโโผโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโโค
โ -350    โ ุฃุฏูุงุช  โ ุดุฑุงุก...  โ ุฑูุง     โ โ๏ธ ๐๏ธ   โ
โโโโโโโโโโโดโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโโ
```

### 2. ุฅุฌุฑุงุกุงุช ุงูุฌุฏูู ๐ง

#### ุฃ) ุฒุฑ ุงูุชุนุฏูู (โ๏ธ)

**ุงููุธููุฉ:**
1. ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุชุนุฏูู
2. ุชูุฑุณู ุจูุงูุงุช ุงููุตุฑูู ุฅูู ูููุฐุฌ ุงูุฅุฏุฎุงู
3. ูุชู ููุก ุฌููุน ุงูุญููู ุชููุงุฆูุงู:
   - ุงููุจูุบ
   - ุงููุฆุฉ
   - ุงูุณุจุจ
   - ุงุณู ุงูุดุฎุต
4. ูุชุบูุฑ ุนููุงู ุงููููุฐุฌ ุฅูู "ุชุนุฏูู ููุตุฑู"
5. ูุชุบูุฑ ูุต ุงูุฒุฑ ุฅูู "ุชุญุฏูุซ ุงูููุตุฑู"
6. ูุธูุฑ ุฒุฑ "ุฅูุบุงุก" ุฌุฏูุฏ

**ุงูุชูููุฉ:**
- ุงุณุชุฎุฏุงู Custom Event: `editTransaction`
- ููู ุงูุจูุงูุงุช ูู Dashboard ุฅูู AddTransactionForm
- ุญูุธ ูุนุฑู ุงููุตุฑูู (ID) ููุชุญุฏูุซ

#### ุจ) ุฒุฑ ุงูุญุฐู (๐๏ธ)

**ุงููุธููุฉ:**
1. ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุญุฐู
2. ูุธูุฑ ูุฑุจุน ุชุฃููุฏ: "ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูููุตุฑูุ"
3. ุนูุฏ ุงูุชุฃููุฏ:
   - ููุญุฐู ุงููุตุฑูู ูู ุงููุงุฆูุฉ ููุฑุงู
   - ููุญุฏุซ ุฅุฌูุงูู ุงููุตุฑููุงุช
   - ููุญุฏุซ ูุณุจุฉ ุงูุฅููุงู

**ุงูุชูููุฉ:**
- ุฏุงูุฉ `deleteTransaction` ูู useStore
- ุญุฐู ูุญูู (local deletion)
- ุชุญุฏูุซ ุชููุงุฆู ููุฅุญุตุงุฆูุงุช

### 3. ูููุฐุฌ ุงูุฅุฏุฎุงู ุงููุญุฏุซ ๐

#### ุงูุญุงูุฉ ุงูุนุงุฏูุฉ (ุฅุถุงูุฉ):
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     ุฅุถุงูุฉ ููุตุฑู             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ุงููุจูุบ]     [ุงููุฆุฉ]        โ
โ [ุงูุณุจุจ]                     โ
โ [ุงุณู ุงูุดุฎุต]                 โ
โ                             โ
โ     [ุญูุธ ุงูููุตุฑู]           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุญุงูุฉ ุงูุชุนุฏูู:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     ุชุนุฏูู ููุตุฑู             โ โ ุชุบููุฑ ุงูุนููุงู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [350]        [ุฃุฏูุงุช ููุชุจูุฉ] โ โ ุจูุงูุงุช ูุญููุฉ
โ [ุดุฑุงุก ุฃูุฑุงู]                โ
โ [ุฑูุง ุงูุนูุฑู]                โ
โ                             โ
โ [ุฅูุบุงุก]  [ุชุญุฏูุซ ุงูููุตุฑู]   โ โ ุฃุฒุฑุงุฑ ุฌุฏูุฏุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐จ ุงูุชุตููู ูุงูุชูุณูู

### ุงูุจููุฉ ุงูุฌุฏูุฏุฉ:

```
Dashboard (Grid 2 Columns)
โโโ Left Column (Stats + Table)
โ   โโโ Budget Alert
โ   โโโ Budget Stats (2 cards)
โ   โโโ Spending Bar
โ   โโโ Transactions Table โ ุฌุฏูุฏ!
โ       โโโ Header (fixed)
โ       โโโ Body (scrollable)
โ
โโโ Right Column (Form)
    โโโ Add/Edit Form
        โโโ Title (dynamic)
        โโโ Fields
        โโโ Buttons (dynamic)
```

### ุฎุตุงุฆุต ุงูุฌุฏูู:

| ุงูุฎุงุตูุฉ | ุงููููุฉ |
|---------|--------|
| Background | `bg-white` |
| Border | `border border-gray-100` |
| Padding | `p-3` |
| Border radius | `rounded-lg` |
| Shadow | `shadow-sm` |
| Font size | `text-xs` |
| Overflow | `overflow-auto` |

### ุฎุตุงุฆุต ุงูุตููู:

- **Header:** `bg-gray-50 sticky top-0`
- **Rows:** `hover:bg-gray-50 transition-colors`
- **Empty state:** `text-gray-400 text-center`

### ุงูุฃููููุงุช:

```jsx
// ุฒุฑ ุงูุชุนุฏูู
<svg className="w-4 h-4" /* Edit icon */>

// ุฒุฑ ุงูุญุฐู
<svg className="w-4 h-4" /* Delete icon */>
```

---

## ๐ป ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### 1. Custom Events (ุงูุชูุงุตู ุจูู ุงูููููุงุช)

**ูู Dashboard.tsx:**
```typescript
const handleEdit = (transaction: Transaction) => {
  const editEvent = new CustomEvent('editTransaction', { 
    detail: transaction 
  });
  window.dispatchEvent(editEvent);
};
```

**ูู AddTransactionForm.tsx:**
```typescript
useEffect(() => {
  const handleEditEvent = (event: CustomEvent) => {
    const transaction = event.detail as Transaction;
    setFormData({ /* load data */ });
    setEditingId(transaction.id);
  };
  
  window.addEventListener('editTransaction', handleEditEvent);
  return () => window.removeEventListener('editTransaction', handleEditEvent);
}, []);
```

### 2. State Management (ุฅุฏุงุฑุฉ ุงูุญุงูุฉ)

**ุญุงูุงุช ุงููููุฐุฌ:**
- `formData` - ุจูุงูุงุช ุงูุญููู
- `editingId` - ูุนุฑู ุงููุตุฑูู ููุฏ ุงูุชุนุฏูู (null ููุฅุถุงูุฉ)

**Store Actions:**
```typescript
- addTransaction(transaction) // ุฅุถุงูุฉ ุฌุฏูุฏ
- updateTransaction(id, transaction) // ุชุญุฏูุซ ููุฌูุฏ
- deleteTransaction(id) // ุญุฐู
```

### 3. Conditional Rendering (ุงูุนุฑุถ ุงูุดุฑุทู)

**ุงูุนููุงู ุงูุฏููุงูููู:**
```jsx
{editingId ? 'ุชุนุฏูู ููุตุฑู' : 'ุฅุถุงูุฉ ููุตุฑู'}
```

**ุงูุฃุฒุฑุงุฑ ุงูุฏููุงููููุฉ:**
```jsx
{editingId && (
  <button onClick={handleCancel}>ุฅูุบุงุก</button>
)}
<button type="submit">
  {editingId ? 'ุชุญุฏูุซ' : 'ุญูุธ'} ุงูููุตุฑู
</button>
```

**ุญุงูุฉ ุงูุฌุฏูู ุงููุงุฑุบ:**
```jsx
{transactions.length === 0 ? (
  <tr><td>ูุง ุชูุฌุฏ ูุตุฑููุงุช</td></tr>
) : (
  transactions.map(...)
)}
```

---

## ๐ ุณูุฑ ุงูุนูู (Workflow)

### 1. ุฅุถุงูุฉ ูุตุฑูู ุฌุฏูุฏ:

```
1. ุงููุณุชุฎุฏู ูููุฃ ุงููููุฐุฌ
   โ
2. ูุถุบุท "ุญูุธ ุงูููุตุฑู"
   โ
3. useStore.addTransaction()
   โ
4. Tauri command: add_transaction
   โ
5. ุญูุธ ูู SQLite
   โ
6. ุชุญุฏูุซ ุงููุงุฆูุฉ ูุงูุฅุญุตุงุฆูุงุช
   โ
7. ุธููุฑ ุงููุตุฑูู ูู ุงูุฌุฏูู
```

### 2. ุชุนุฏูู ูุตุฑูู:

```
1. ุงููุณุชุฎุฏู ูุถุบุท โ๏ธ ูู ุงูุฌุฏูู
   โ
2. ุฅุฑุณุงู Custom Event
   โ
3. ุชุญููู ุงูุจูุงูุงุช ูู ุงููููุฐุฌ
   โ
4. ุงููุณุชุฎุฏู ูุนุฏู ุงูุจูุงูุงุช
   โ
5. ูุถุบุท "ุชุญุฏูุซ ุงูููุตุฑู"
   โ
6. useStore.updateTransaction()
   โ
7. ุชุญุฏูุซ ูู ุงููุงุนุฏุฉ
   โ
8. ุชุญุฏูุซ ุงูุฌุฏูู
```

### 3. ุญุฐู ูุตุฑูู:

```
1. ุงููุณุชุฎุฏู ูุถุบุท ๐๏ธ
   โ
2. ูุฑุจุน ุชุฃููุฏ
   โ
3. ุงููุณุชุฎุฏู ูุคูุฏ
   โ
4. useStore.deleteTransaction()
   โ
5. ุญุฐู ูุญูู ููุฑู
   โ
6. ุญุฐู ูู ุงููุงุนุฏุฉ (TODO)
   โ
7. ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช
```

---

## ๐ ูุงุฆูุฉ ุงูููุงู (TODO)

### Backend (Rust/Tauri):

- [ ] ุฅุถุงูุฉ ุฃูุฑ `update_transaction`
  ```rust
  #[tauri::command]
  pub async fn update_transaction(
      pool: State<'_, DbPool>,
      id: i64,
      transaction: NewTransaction,
  ) -> Result<Transaction, String>
  ```

- [ ] ุฅุถุงูุฉ ุฃูุฑ `delete_transaction`
  ```rust
  #[tauri::command]
  pub async fn delete_transaction(
      pool: State<'_, DbPool>,
      id: i64,
  ) -> Result<(), String>
  ```

- [ ] ุชุณุฌูู ุงูุฃูุงูุฑ ูู `main.rs`
  ```rust
  .invoke_handler(tauri::generate_handler![
      // ... existing commands
      update_transaction,
      delete_transaction,
  ])
  ```

### Frontend:

- [x] โ ุฅุถุงูุฉ ุงูุฌุฏูู
- [x] โ ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุงูุชุนุฏูู ูุงูุญุฐู
- [x] โ ุฑุจุท ุงูุชุนุฏูู ุจุงููููุฐุฌ
- [x] โ ุชูููุฐ ุงูุญุฐู ุงููุญูู
- [ ] ุฑุจุท ุงูุชุญุฏูุซ ุจู Tauri command
- [ ] ุฑุจุท ุงูุญุฐู ุจู Tauri command
- [ ] ุฅุถุงูุฉ ุชุฃููุฏ ุนูุฏ ุงูุฎุฑูุฌ ูู ุงูุชุนุฏูู
- [ ] ุฅุถุงูุฉ ุฑุณุงุฆู ูุฌุงุญ/ุฎุทุฃ

---

## ๐ฏ ุงูููุฒุงุช ุงูุญุงููุฉ

### โ ููุชูู:
1. ุฌุฏูู ุนุฑุถ ุงููุตุฑููุงุช
2. ุฒุฑ ุงูุชุนุฏูู ูุน ุชุญููู ุงูุจูุงูุงุช
3. ุฒุฑ ุงูุญุฐู ุงููุญูู
4. ูููุฐุฌ ุฏููุงูููู (ุฅุถุงูุฉ/ุชุนุฏูู)
5. ุฒุฑ ุฅูุบุงุก ูู ูุถุน ุงูุชุนุฏูู
6. ุชุตููู ูุชุฌุงูุจ ููุฏูุฌ

### โ๏ธ ูุคูุช (Temporary):
1. ุงูุญุฐู ูุญูู ููุท (ูุง ููุญูุธ ูู DB)
2. ุงูุชุนุฏูู ุบูุฑ ูุชุตู ุจู Backend

### ๐ ูุฑูุจุงู:
1. ุงุชุตุงู ูุงูู ูุน SQLite
2. ุฑุณุงุฆู ุงูุชุฃููุฏ ูุงููุฌุงุญ
3. ุชุญุณููุงุช UX ุฅุถุงููุฉ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

**ุงููููุงุช ุงููุนุฏูุฉ:** 3
- `src/pages/Dashboard.tsx` (+110 lines)
- `src/components/AddTransactionForm.tsx` (+42 lines)
- `src/store/useStore.ts` (+36 lines)

**ุงูููุฒุงุช ุงููุถุงูุฉ:** 5
1. ุฌุฏูู ุงููุตุฑููุงุช
2. ุฒุฑ ุงูุชุนุฏูู
3. ุฒุฑ ุงูุญุฐู
4. ูููุฐุฌ ุฏููุงูููู
5. ุญุฐู ูุญูู

**ุงูุฃุณุทุฑ ุงููุถุงูุฉ:** ~188 line

---

**ุชุงุฑูุฎ ุงูุฅุถุงูุฉ:** 2025-10-18
**ุงูุญุงูุฉ:** ููุชูู 90% โ
**ุงููุชุจูู:** ุงุชุตุงู Backend ููุท
